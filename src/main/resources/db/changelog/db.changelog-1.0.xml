<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   logicalFilePath="db.changelog-1.0.xml"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                   https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">

    <changeSet id="0" author="inditex">
        <createTable tableName="prices">
            <column name="brand_id" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="product_id" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="price_list" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="start_date" type="varchar(19)">
                <constraints nullable="false"/>
            </column>
            <column name="end_date" type="varchar(19)">
                <constraints nullable="false"/>
            </column>
            <column name="priority" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="price" type="decimal(10,2)">
                <constraints nullable="false"/>
            </column>
            <column name="curr" type="varchar(3)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addPrimaryKey columnNames="brand_id, product_id, price_list" tableName="prices" constraintName="pk_prices"/>
    </changeSet>

    <changeSet id="1" author="inditex">
        <sql>
            insert into prices (brand_id, product_id, price_list, start_date, end_date, priority, price, curr)
            values (1, 35455, 1, '2020-06-14-00.00.00', '2020-12-31-23.59.59', 0, 35.50, 'EUR'),
                   (1, 35455, 2, '2020-06-14-15.00.00', '2020-06-14-18.30.00', 1, 25.45, 'EUR'),
                   (1, 35455, 3, '2020-06-15-00.00.00', '2020-06-15-11.00.00', 1, 30.50, 'EUR'),
                   (1, 35455, 4, '2020-06-15-16.00.00', '2020-12-31-23.59.59', 1, 38.95, 'EUR');
        </sql>
    </changeSet>
</databaseChangeLog>